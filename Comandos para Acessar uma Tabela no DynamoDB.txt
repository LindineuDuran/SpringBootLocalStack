# Cria Tabela PlayerHistory
aws --endpoint-url=http://localhost:4566 dynamodb create-table \
    --table-name PlayerHistory \
    --attribute-definitions \
        AttributeName=player_id,AttributeType=S \
        AttributeName=game_id,AttributeType=S \
    --key-schema \
        AttributeName=player_id,KeyType=HASH \
        AttributeName=game_id,KeyType=RANGE \
    --billing-mode PAY_PER_REQUEST

# Adicionar item à Tabela
aws --endpoint-url=http://localhost:4566 dynamodb put-item \
    --table-name PlayerHistory \
    --item '{
        "player_id": {"S": "123"},
        "game_id": {"S": "abc-456"},
        "score": {"N": "100"},
        "created_at": {"S": "2024-11-23T12:34:56Z"}
    }'

# Verifica a Tabela Criada
aws --endpoint-url=http://localhost:4566 dynamodb list-tables

# Descrição Detalhada da Tabela
aws --endpoint-url=http://localhost:4566 dynamodb describe-table --table-name PlayerHistory

# Listar os itens do DynamoDB
aws dynamodb scan --table-name PlayerHistory --endpoint-url=http://localhost:4566

# Recuperar um item específico do DynamoDB
aws dynamodb get-item \
  --table-name PlayerHistory \
  --keySchema ['{"player_id": {"S": "123"}}, '{"game_id": {"S": "abc-456"}}'] \
  --endpoint-url=http://localhost:4566

# Excluir um item do DynamoDB
aws dynamodb delete-item \
  --table-name PlayerHistory \
  --keySchema '{"id": {"S": "1"}}' \
  --endpoint-url=http://localhost:4566

# Cria Tabela Books
aws --endpoint-url=http://localhost:4566 --profile localstack dynamodb create-table \
--table-name Books \
--attribute-definitions \
    AttributeName=id,AttributeType=S \
--key-schema \
    AttributeName=id,KeyType=HASH \
--provisioned-throughput ReadCapacityUnits=10,WriteCapacityUnits=5

# Adicionar um item ao DynamoDB
aws dynamodb put-item \
  --table-name Books \
  --item '{"id": {"S": "1"}, "title": {"S": "Test Book"}, "author": {"S": "Author Name"}}' \
  --endpoint-url=http://localhost:4566

